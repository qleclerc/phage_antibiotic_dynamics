# Modelling the synergistic effect of bacteriophage and antibiotics on bacteria: killers and drivers of resistance evolution - Code Repository

## About
This repository contains all the code used to run the analyses outlined in the corresponding paper.
Please note that this work is not yet peer-reviewed, and is available [here](https://www.biorxiv.org/content/10.1101/2022.03.02.480504v1).

For any questions, please contact Quentin Leclerc.

- Email: quentin.leclerc@lshtm.ac.uk
- Twitter: [QuentinLclrc](https://twitter.com/QuentinLclrc)

## Data

The "/Data" folder contains the in vitro data generated as part of this project. Please refer to the paper for further details. This includes time-kill curves of three S. aureus strains (NE327, NE201KT7 and DRPET1) exposed to erythromycin or tetracycline. 

## Model

The core model code is in the "/Model" folder. This folder contains a single R script encoding a function for the model. This relies on the `deSolve` package.

## Parameters

The "/Parameters" folder contains the parameter values. Note that the bacterial growth (`bac_params.csv`) and phage predation/transduction (`pha_params.csv`) parameters are derived from a previous study available [here](https://www.biorxiv.org/content/10.1101/2021.07.24.453184v3). 
The antibiotic parameters (`abx_params.csv`) were generated by fitting to the in vitro data, using the `estimate_parameters.R` script in the "/Analysis" folder.

## Analysis

The "/Analysis" folder contains various scripts used to create the figures shown in the paper. Most are explicitly named to indicate the figure they generate, except the following:
- `clean_plot_data.R`: this is sourced in the `fig2_suppfig1.R` script. The code here processes the raw datasets in the "/Data" folder.
- `estimate_parameters.R`: this is sourced in the `fig2_suppfig1.R` script. The code here uses the summarised in vitro datasets to estimate pharmacodynamic parameters for erythromycin and tetracycline.
- `run_model.R`: a script to quickly run the model and plot the output for fixed parameter values. Useful to play around with the model under different conditions.

## Figures

The "/Figures" folder contains the figures created by the different scripts. Each figure is named according to its position in the paper (e.g. "fig2" is Figure 2 in the paper).

## License

This work is distributed under the MIT license (see LICENSE file).
